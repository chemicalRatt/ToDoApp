(()=>{"use strict";const e=(()=>{let e=[];const t=()=>e.find((e=>!0===e.isActive)),c=t=>{e.forEach((e=>{e.isActive=!1})),e[t].isActive=!0};return{PROJECTS:e,addProject:t=>{e.push((e=>{const t=[];return{ITEMS:t,name:e,isActive:!1,addItem:e=>{t.push({content:e,isComplete:!1})},removeItem:e=>{t.splice(e,1)}}})(t)),c(Number(e.length)-1)},removeProject:d=>{e.length>1&&(e[d]===t()?0!==d?(c(d-1),e.splice(d,1)):(c(1),e.splice(d,1)):e.splice(d,1))},getActiveProject:t,setActiveProject:c}})(),t=(()=>{const e=document.getElementById("content");return{initDom:()=>{const t=document.createElement("header");t.innerText="To Do List",document.body.insertBefore(t,document.body.firstChild);const c=document.createElement("footer");c.innerText="@chemicalRatt",document.body.appendChild(c);const d=document.createElement("div");d.classList.add("side-bar"),d.id="p-list";const n=document.createElement("div");n.classList.add("task-list"),n.id="t-list",e.append(d,n)},addProject:(e,t)=>{const c=document.getElementById("p-list"),d=document.createElement("div");d.classList.add("project"),d.id=t,d.innerText=e,c.appendChild(d)},clearAll:()=>{document.getElementById("p-list").innerText="",document.getElementById("t-list").innerText=""},setActiveProject:e=>{document.getElementById(e).classList.add("active-project")},addTask:(e,t,c)=>{const d=document.getElementById("t-list"),n=document.createElement("div");n.classList.add("task"),n.id=c,n.innerText=e,!0===t&&n.classList.add("completed");const i=document.createElement("INPUT");i.setAttribute("type","checkbox"),i.classList.add("checkbox"),i.checked=t,n.insertBefore(i,n.firstChild),d.appendChild(n)}}})();t.initDom();const c=()=>{t.clearAll(),e.PROJECTS.forEach(((e,c)=>{t.addProject(e.name,c),e.isActive&&t.setActiveProject(c)})),e.getActiveProject().ITEMS.forEach(((e,c)=>{t.addTask(e.content,e.isComplete,c)})),document.querySelectorAll(".project").forEach((t=>{t.addEventListener("click",(()=>{e.setActiveProject(t.id),c()}))})),document.querySelectorAll(".checkbox").forEach((t=>{t.addEventListener("change",(()=>{t.checked?(e.getActiveProject().ITEMS[t.parentElement.id].isComplete=!0,t.parentElement.classList.add("completed")):(e.getActiveProject().ITEMS[t.parentElement.id].isComplete=!1,t.parentElement.classList.remove("completed"))}))}))};e.addProject("New Project"),e.getActiveProject().addItem("Testing Item"),e.addProject("New Project"),c()})();
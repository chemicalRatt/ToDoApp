(()=>{"use strict";const e=(()=>{let e=[];const t=()=>e.find((e=>!0===e.isActive)),c=t=>{e.forEach((e=>{e.isActive=!1})),e[t].isActive=!0};return{PROJECTS:e,addProject:t=>{e.push((e=>{const t=[];return{ITEMS:t,name:e,isActive:!1,addItem:e=>{t.push({content:e,isComplete:!1})},removeItem:e=>{t.splice(e,1)}}})(t)),c(Number(e.length)-1)},removeProject:n=>{e.length>1&&(e[n]===t()?0!==n?(c(n-1),e.splice(n,1)):(c(1),e.splice(n,1)):e.splice(n,1))},getActiveProject:t,setActiveProject:c}})(),t=(()=>{const e=document.getElementById("content");return{initDom:()=>{const t=document.createElement("header");t.innerText="To Do List",document.body.insertBefore(t,document.body.firstChild);const c=document.createElement("footer");c.innerText="@chemicalRatt",document.body.appendChild(c);const n=document.createElement("div");n.classList.add("side-bar"),n.id="p-list";const d=document.createElement("div");d.classList.add("task-list"),d.id="t-list",e.append(n,d)},addProject:(e,t)=>{const c=document.getElementById("p-list"),n=document.createElement("div");n.classList.add("project"),n.id=t,n.innerText=e,c.insertBefore(n,c.lastChild)},resetLists:()=>{const e=document.getElementById("p-list");e.innerText="",document.getElementById("t-list").innerText="";const t=document.createElement("button");t.innerText="New Project",t.id="new-project-button",e.appendChild(t)},setActiveProject:e=>{document.getElementById(e).classList.add("active-project")},addTask:(e,t,c)=>{const n=document.getElementById("t-list"),d=document.createElement("div");d.classList.add("task"),d.id=c,d.innerText=e,!0===t&&d.classList.add("completed");const o=document.createElement("INPUT");o.setAttribute("type","checkbox"),o.classList.add("checkbox"),o.checked=t,d.insertBefore(o,d.firstChild),n.appendChild(d)}}})();t.initDom();const c=()=>{t.resetLists(),e.PROJECTS.forEach(((e,c)=>{t.addProject(e.name,c),e.isActive&&t.setActiveProject(c)})),e.getActiveProject().ITEMS.forEach(((e,c)=>{t.addTask(e.content,e.isComplete,c)})),document.querySelectorAll(".project").forEach((t=>{t.addEventListener("click",(()=>{e.setActiveProject(t.id),c()}))})),document.querySelectorAll(".checkbox").forEach((t=>{t.addEventListener("change",(()=>{t.checked?(e.getActiveProject().ITEMS[t.parentElement.id].isComplete=!0,t.parentElement.classList.add("completed")):(e.getActiveProject().ITEMS[t.parentElement.id].isComplete=!1,t.parentElement.classList.remove("completed"))}))})),document.getElementById("new-project-button").addEventListener("click",(()=>{const t=prompt("Enter Project Name");null!=t&&""!==t&&(e.addProject(t),c())}))};e.addProject("Default Project"),e.getActiveProject().addItem("Testing Item"),c()})();